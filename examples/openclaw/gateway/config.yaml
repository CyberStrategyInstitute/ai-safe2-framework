# AI SAFEÂ² Control Gateway Configuration
# Version: 2.1

gateway:
  # Network binding (SECURITY: Use 127.0.0.1 for localhost only)
  bind_host: "127.0.0.1"  # localhost only (NOT 0.0.0.0)
  bind_port: 8888
  
  # Tool policy
  allow_high_risk_tools: false  # Block exec, browser, cron, etc.
  
  # Risk threshold (0-10)
  # Requests with risk score >= threshold are blocked
  risk_threshold: 7.0
  
  # Rate limiting
  max_requests_per_minute: 60
  max_requests_per_hour: 1000

anthropic:
  # API key (use environment variable for security)
  # Set with: export ANTHROPIC_API_KEY=sk-ant-...
  api_key: "${ANTHROPIC_API_KEY}"
  
  # Model defaults
  default_model: "claude-sonnet-4-20250514"
  max_tokens: 4096

logging:
  # Audit log file path
  audit_log: "gateway_audit.log"
  
  # Redact secrets in logs
  redact_secrets: true
  
  # Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
  log_level: "INFO"
  
  # Retention (days)
  retention_days: 90

# Tool allowlist (if using fine-grained control)
# Only these tools will be allowed even if high_risk_tools is true
tool_allowlist:
  - "read"
  - "search"
  - "retrieve"

# Blocked patterns (additional to built-in list)
custom_blocked_patterns:
  - "sudo"
  - "rm -rf"
  - "DROP DATABASE"
  - "DELETE FROM users"

# Trusted sources (bypass some checks)
trusted_users:
  # Add user IDs that should have elevated privileges
  # - "admin@example.com"

# Alerting (optional - requires additional setup)
alerts:
  enabled: false
  # webhook_url: "https://hooks.slack.com/services/YOUR/WEBHOOK/URL"
  # email: "security@example.com"
  
  # Alert on these events
  alert_on_blocked_request: true
  alert_on_high_risk: true
  alert_on_injection_attempt: true
